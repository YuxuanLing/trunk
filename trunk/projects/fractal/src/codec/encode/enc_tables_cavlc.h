/* -*- indent-tabs-mode:nil; c-basic-offset:4 -*- */
#ifndef _TABLES_CAVLC_H_
#define _TABLES_CAVLC_H_

#include <limits.h>

/* [cbp][intra=0 / inter=1] */
static const unsigned cbp_code_tab[48][2] =
{
  { 3, 0}, { 29, 2}, { 30, 3}, { 17, 7}, { 31, 4}, { 18, 8}, { 37, 17}, { 8, 13}, { 32, 5}, { 38, 18}, { 19, 9}, { 9, 14},
  { 20, 10}, { 10, 15}, { 11, 16}, { 2, 11}, { 16, 1}, { 33, 32}, { 34, 33}, { 21, 36}, { 35, 34}, { 22, 37}, { 39, 44}, { 4, 40},
  { 36, 35}, { 40, 45}, { 23, 38}, { 5, 41}, { 24, 39}, { 6, 42}, { 7, 43}, { 1, 19}, { 41, 6}, { 42, 24}, { 43, 25}, { 25, 20},
  { 44, 26}, { 26, 21}, { 46, 46}, { 12, 28}, { 45, 27}, { 47, 47}, { 27, 22}, { 13, 29}, { 28, 23}, { 14, 30}, { 15, 31}, { 0, 12}
};

/* [vlc_num][trailing_ones][total_coeffs] */
static const unsigned coeff_token_length_tab[3][4][17] =
{
  {
    { 1, 6, 8, 9, 10, 11, 13, 13, 13, 14, 14, 15, 15, 16, 16, 16, 16},
    { 0, 2, 6, 8, 9, 10, 11, 13, 13, 14, 14, 15, 15, 15, 16, 16, 16},
    { 0, 0, 3, 7, 8, 9, 10, 11, 13, 13, 14, 14, 15, 15, 16, 16, 16},
    { 0, 0, 0, 5, 6, 7, 8, 9, 10, 11, 13, 14, 14, 15, 15, 16, 16},
  },
  {
    { 2, 6, 6, 7, 8, 8, 9, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14},
    { 0, 2, 5, 6, 6, 7, 8, 9, 11, 11, 12, 12, 13, 13, 14, 14, 14},
    { 0, 0, 3, 6, 6, 7, 8, 9, 11, 11, 12, 12, 13, 13, 13, 14, 14},
    { 0, 0, 0, 4, 4, 5, 6, 6, 7, 9, 11, 11, 12, 13, 13, 13, 14},
  },
  {
    { 4, 6, 6, 6, 7, 7, 7, 7, 8, 8, 9, 9, 9, 10, 10, 10, 10},
    { 0, 4, 5, 5, 5, 5, 6, 6, 7, 8, 8, 9, 9, 9, 10, 10, 10},
    { 0, 0, 4, 5, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 10},
    { 0, 0, 0, 4, 4, 4, 4, 4, 5, 6, 7, 8, 8, 9, 10, 10, 10},
  },

};

/* [vlc_num][trailing_ones][total_coeffs] */
static const unsigned coeff_token_code_tab[3][4][17] =
{
  {
    { 1, 5, 7, 7, 7, 7, 15, 11, 8, 15, 11, 15, 11, 15, 11, 7, 4},
    { 0, 1, 4, 6, 6, 6, 6, 14, 10, 14, 10, 14, 10, 1, 14, 10, 6},
    { 0, 0, 1, 5, 5, 5, 5, 5, 13, 9, 13, 9, 13, 9, 13, 9, 5},
    { 0, 0, 0, 3, 3, 4, 4, 4, 4, 4, 12, 12, 8, 12, 8, 12, 8},
  },
  {
    { 3, 11, 7, 7, 7, 4, 7, 15, 11, 15, 11, 8, 15, 11, 7, 9, 7},
    { 0, 2, 7, 10, 6, 6, 6, 6, 14, 10, 14, 10, 14, 10, 11, 8, 6},
    { 0, 0, 3, 9, 5, 5, 5, 5, 13, 9, 13, 9, 13, 9, 6, 10, 5},
    { 0, 0, 0, 5, 4, 6, 8, 4, 4, 4, 12, 8, 12, 12, 8, 1, 4},
  },
  {
    { 15, 15, 11, 8, 15, 11, 9, 8, 15, 11, 15, 11, 8, 13, 9, 5, 1},
    { 0, 14, 15, 12, 10, 8, 14, 10, 14, 14, 10, 14, 10, 7, 12, 8, 4},
    { 0, 0, 13, 14, 11, 9, 13, 9, 13, 10, 13, 9, 13, 9, 11, 7, 3},
    { 0, 0, 0, 12, 11, 10, 9, 8, 13, 12, 12, 12, 8, 12, 10, 6, 2},
  },
};

/* [trailing_ones][total_coeffs] */
static const unsigned coeff_token_chroma_dc_length_tab [4][5] =
{
  { 2, 6, 6, 6, 6},
  { 0, 1, 6, 7, 8},
  { 0, 0, 3, 7, 8},
  { 0, 0, 0, 6, 7}
};

/* [trailing_ones][total_coeffs] */
static const unsigned coeff_token_chroma_dc_code_tab [4][5] =
{
  { 1, 7, 4, 3, 2},
  { 0, 1, 6, 3, 3},
  { 0, 0, 1, 2, 2},
  { 0, 0, 0, 5, 0}
};

/* [vlc_num][total_zeros] */
static const unsigned total_zeros_length_tab[15][16] =
{
  { 1, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 9},
  { 3, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 6, 6, 6, 6},
  { 4, 3, 3, 3, 4, 4, 3, 3, 4, 5, 5, 6, 5, 6},
  { 5, 3, 4, 4, 3, 3, 3, 4, 3, 4, 5, 5, 5},
  { 4, 4, 4, 3, 3, 3, 3, 3, 4, 5, 4, 5},
  { 6, 5, 3, 3, 3, 3, 3, 3, 4, 3, 6},
  { 6, 5, 3, 3, 3, 2, 3, 4, 3, 6},
  { 6, 4, 5, 3, 2, 2, 3, 3, 6},
  { 6, 6, 4, 2, 2, 3, 2, 5},
  { 5, 5, 3, 2, 2, 2, 4},
  { 4, 4, 3, 3, 1, 3},
  { 4, 4, 2, 1, 3},
  { 3, 3, 1, 2},
  { 2, 2, 1},
  { 1, 1},
};

/* [vlc_num][total_zeros] */
static const unsigned total_zeros_code_tab[15][16] =
{
  { 1, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 3, 2, 1},
  { 7, 6, 5, 4, 3, 5, 4, 3, 2, 3, 2, 3, 2, 1, 0},
  { 5, 7, 6, 5, 4, 3, 4, 3, 2, 3, 2, 1, 1, 0},
  { 3, 7, 5, 4, 6, 5, 4, 3, 3, 2, 2, 1, 0},
  { 5, 4, 3, 7, 6, 5, 4, 3, 2, 1, 1, 0},
  { 1, 1, 7, 6, 5, 4, 3, 2, 1, 1, 0},
  { 1, 1, 5, 4, 3, 3, 2, 1, 1, 0},
  { 1, 1, 1, 3, 3, 2, 2, 1, 0},
  { 1, 0, 1, 3, 2, 1, 1, 1, },
  { 1, 0, 1, 3, 2, 1, 1, },
  { 0, 1, 1, 2, 1, 3},
  { 0, 1, 1, 1, 1},
  { 0, 1, 1, 1},
  { 0, 1, 1},
  { 0, 1},
};

/* [vlc_num][total_zeros] */
static const unsigned total_zeros_chroma_dc_length_tab [3][4] =
{
  { 1, 2, 3, 3},
  { 1, 2, 2},
  { 1, 1}
};

/* [vlc_num][total_zeros] */
static const unsigned total_zeros_chroma_dc_code_tab [3][4] =
{
  { 1, 1, 1, 0},
  { 1, 1, 0},
  { 1, 0}
};

/* [vlc_num][run] */
static const unsigned run_before_length_tab[7][16] =
{
  { 1, 1},
  { 1, 2, 2},
  { 2, 2, 2, 2},
  { 2, 2, 2, 3, 3},
  { 2, 2, 3, 3, 3, 3},
  { 2, 3, 3, 3, 3, 3, 3},
  { 3, 3, 3, 3, 3, 3, 3, 4, 5, 6, 7, 8, 9, 10, 11},
};

static const unsigned run_before_code_tab[7][16] =
{
  { 1, 0},
  { 1, 1, 0},
  { 3, 2, 1, 0},
  { 3, 2, 1, 1, 0},
  { 3, 2, 3, 2, 1, 0},
  { 3, 0, 1, 3, 2, 5, 4},
  { 7, 6, 5, 4, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1},
};

static const int vlc_threshold_tab[7] =
{
  0, 3, 6, 12, 24, 48, INT_MAX
};

#endif
